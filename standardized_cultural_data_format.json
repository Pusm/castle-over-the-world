{
  "culturalCastleDataFormat": {
    "schema_version": "3.0",
    "schema_name": "Worker4-Worker3-Integrated-Cultural-Castle-Data",
    "description": "Standardized data format for 50,000+ castle pipeline with automated cultural narrative generation",
    "last_updated": "2025-07-20",
    "compatibility": {
      "worker4_pipeline": "v2.0+",
      "worker3_cultural_generator": "v1.0+",
      "three_tier_automation": "v1.0+"
    },
    "data_structure": {
      "core_identification": {
        "description": "Essential identification fields required for all castle entries",
        "required_fields": {
          "id": {
            "type": "string",
            "pattern": "^[a-z0-9_]+$",
            "description": "Unique castle identifier",
            "examples": ["windsor_castle", "neuschwanstein_castle", "osm_way_12345"]
          },
          "castleName": {
            "type": "string",
            "min_length": 2,
            "max_length": 200,
            "description": "Official or commonly known castle name",
            "examples": ["Windsor Castle", "Ch√¢teau de Chambord"]
          },
          "country": {
            "type": "string",
            "min_length": 2,
            "max_length": 100,
            "description": "Country where castle is located",
            "examples": ["United Kingdom", "France", "Germany"]
          },
          "location": {
            "type": "string",
            "description": "Specific geographic location within country",
            "examples": ["Windsor, Berkshire, England", "Loire Valley, France"]
          }
        },
        "optional_fields": {
          "coordinates": {
            "type": "array",
            "items": {"type": "number"},
            "min_items": 2,
            "max_items": 2,
            "description": "Latitude and longitude coordinates [lat, lon]",
            "example": [51.4839, -0.6044]
          },
          "region": {
            "type": "string",
            "description": "Regional or administrative division",
            "examples": ["Normandy", "Bavaria", "Andalusia"]
          }
        }
      },
      "historical_data": {
        "description": "Historical and architectural information",
        "fields": {
          "yearBuilt": {
            "type": "string",
            "description": "Construction period, can include ranges",
            "examples": ["1068", "1519-1547", "12th century"]
          },
          "architecturalStyle": {
            "type": "string",
            "description": "Primary architectural style(s)",
            "examples": ["Norman", "Gothic Revival", "French Renaissance", "Islamic"]
          },
          "historicalPeriods": {
            "type": "array",
            "items": {"type": "string"},
            "description": "Historical periods associated with castle",
            "examples": [["Medieval", "Norman"], ["Renaissance", "Early Modern"]]
          },
          "keyFeatures": {
            "type": "array",
            "items": {"type": "string"},
            "description": "Notable architectural or historical features",
            "max_items": 20,
            "examples": [["Great Hall", "Round Tower", "Gothic spires"]]
          },
          "shortDescription": {
            "type": "string",
            "min_length": 50,
            "max_length": 1000,
            "description": "Concise historical and architectural overview"
          }
        }
      },
      "cultural_narrative_data": {
        "description": "Enhanced cultural narrative content generated by Worker3 system",
        "fields": {
          "culturalSignificance": {
            "type": "string",
            "min_length": 150,
            "max_length": 500,
            "description": "Comprehensive cultural significance analysis",
            "quality_requirements": ["historical_accuracy", "cultural_depth", "coherence"]
          },
          "legends": {
            "type": "array",
            "items": {
              "type": "object",
              "required": ["title", "narrative"],
              "properties": {
                "title": {"type": "string", "max_length": 100},
                "narrative": {"type": "string", "min_length": 100, "max_length": 300},
                "historicalContext": {"type": "string"},
                "symbolism": {"type": "string"},
                "culturalAuthenticity": {"type": "boolean"}
              }
            },
            "max_items": 5,
            "description": "Cultural legends and folklore associated with castle"
          },
          "historicalEvents": {
            "type": "array",
            "items": {
              "type": "object",
              "required": ["name", "significance"],
              "properties": {
                "name": {"type": "string"},
                "date": {"type": "string"},
                "participants": {"type": "string"},
                "outcome": {"type": "string"},
                "significance": {"type": "string"},
                "tactics": {"type": "string"},
                "legacy": {"type": "string"}
              }
            },
            "max_items": 5,
            "description": "Major historical events associated with castle"
          },
          "rulerBiographies": {
            "type": "object",
            "description": "Biographical information for notable rulers",
            "max_properties": 3,
            "additionalProperties": {
              "type": "object",
              "required": ["fullName", "politicalAchievements"],
              "properties": {
                "fullName": {"type": "string"},
                "lifespan": {"type": "string"},
                "epithet": {"type": "string"},
                "politicalAchievements": {"type": "string"},
                "militaryCareer": {"type": "string"},
                "culturalPatronage": {"type": "string"},
                "architecturalLegacy": {"type": "string"},
                "death": {"type": "string"},
                "modernLegacy": {"type": "string"}
              }
            }
          },
          "socialHistory": {
            "type": "object",
            "description": "Social and economic aspects of castle life",
            "properties": {
              "feudalHousehold": {"type": "string"},
              "economicLife": {"type": "string"},
              "culturalLife": {"type": "string"},
              "dailyOperations": {"type": "string"},
              "internationalConnections": {"type": "string"}
            }
          }
        }
      },
      "technical_engineering_data": {
        "description": "Technical and engineering information (Worker1 compatibility)",
        "optional_fields": {
          "engineeringDetails": {
            "type": "object",
            "properties": {
              "foundationEngineering": {
                "type": "object",
                "properties": {
                  "geologicalBase": {"type": "string"},
                  "formationProcess": {"type": "string"},
                  "engineeringAdvantages": {"type": "array", "items": {"type": "string"}}
                }
              },
              "constructionTechniques": {"type": "object"},
              "innovativeFeatures": {"type": "array", "items": {"type": "string"}},
              "materialProperties": {"type": "object"}
            }
          }
        }
      },
      "visitor_tourism_data": {
        "description": "Modern visitor and tourism information",
        "fields": {
          "currentStatus": {
            "type": "object",
            "properties": {
              "operationalState": {
                "type": "string",
                "enum": ["active_museum", "heritage_site", "ruins", "private_residence", "government_use"]
              },
              "unescoHeritage": {"type": "boolean"},
              "accessibility": {
                "type": "string",
                "enum": ["public", "restricted", "private", "seasonal"]
              },
              "condition": {
                "type": "string",
                "enum": ["excellent", "good", "fair", "poor", "ruins"]
              }
            }
          },
          "visitorInfo": {
            "type": "object",
            "properties": {
              "openingHours": {
                "type": "object",
                "properties": {
                  "regular": {"type": "object"},
                  "seasonal": {"type": "object"},
                  "closedDates": {"type": "array", "items": {"type": "string"}}
                }
              },
              "ticketPrices": {
                "type": "object",
                "properties": {
                  "adult": {"type": "string"},
                  "child": {"type": "string"},
                  "reduced": {"type": "string"},
                  "currency": {"type": "string"}
                }
              },
              "tours": {
                "type": "object",
                "properties": {
                  "guidedTours": {
                    "type": "object",
                    "properties": {
                      "available": {"type": "boolean"},
                      "duration": {"type": "string"},
                      "languages": {"type": "array", "items": {"type": "string"}}
                    }
                  },
                  "audioGuides": {
                    "type": "object",
                    "properties": {
                      "available": {"type": "boolean"},
                      "languages": {"type": "array", "items": {"type": "string"}}
                    }
                  }
                }
              },
              "accessibility": {
                "type": "object",
                "properties": {
                  "wheelchairAccess": {"type": "boolean"},
                  "limitations": {"type": "array", "items": {"type": "string"}},
                  "facilities": {"type": "array", "items": {"type": "string"}}
                }
              }
            }
          },
          "preservationEfforts": {
            "type": "object",
            "properties": {
              "heritageStatus": {
                "type": "object",
                "properties": {
                  "unesco": {"type": "boolean"},
                  "national": {"type": "boolean"},
                  "regional": {"type": "boolean"}
                }
              },
              "conservationProjects": {"type": "array"},
              "threats": {
                "type": "object",
                "properties": {
                  "environmental": {"type": "array", "items": {"type": "string"}},
                  "tourism": {"type": "array", "items": {"type": "string"}},
                  "natural": {"type": "array", "items": {"type": "string"}}
                }
              }
            }
          },
          "tourismDetails": {
            "type": "object",
            "properties": {
              "culturalImpact": {"type": "string"},
              "economicValue": {"type": "string"},
              "educationalRole": {"type": "string"},
              "annualVisitors": {"type": "string"}
            }
          }
        }
      },
      "research_multimedia_data": {
        "description": "Research sources and multimedia content",
        "fields": {
          "research": {
            "type": "object",
            "properties": {
              "academicSources": {"type": "array", "items": {"type": "string"}},
              "culturalImpact": {"type": "string"},
              "scholarlyWorks": {"type": "array", "items": {"type": "string"}}
            }
          },
          "multimedia": {
            "type": "object",
            "properties": {
              "images": {"type": "array", "items": {"type": "string"}},
              "videos": {"type": "array", "items": {"type": "string"}},
              "virtualTours": {"type": "array", "items": {"type": "string"}}
            }
          },
          "interactive": {
            "type": "object",
            "properties": {
              "tours": {
                "type": "object",
                "properties": {
                  "virtual": {"type": "boolean"},
                  "audio": {"type": "boolean"},
                  "guided": {"type": "boolean"}
                }
              },
              "educational": {
                "type": "object",
                "properties": {
                  "worksheets": {"type": "boolean"},
                  "activities": {"type": "boolean"}
                }
              }
            }
          }
        }
      },
      "data_provenance": {
        "description": "Data source tracking and quality metrics",
        "required_fields": {
          "metadata": {
            "type": "object",
            "required": ["lastUpdated", "dataQuality", "version"],
            "properties": {
              "lastUpdated": {"type": "string", "format": "date-time"},
              "dataQuality": {
                "type": "string",
                "enum": ["comprehensive_2025", "comprehensive", "enhanced", "basic"]
              },
              "completeness": {"type": "number", "minimum": 0, "maximum": 100},
              "version": {"type": "string"},
              "contributors": {"type": "array", "items": {"type": "string"}},
              "processingTier": {
                "type": "string",
                "enum": ["tier_1_fully_automated", "tier_2_semi_automated", "tier_3_manual_assisted"]
              }
            }
          }
        },
        "optional_fields": {
          "externalSources": {
            "type": "array",
            "items": {"type": "string"},
            "description": "List of external data sources used"
          },
          "sourceUrls": {
            "type": "array",
            "items": {"type": "string", "format": "uri"},
            "description": "URLs of source materials"
          },
          "extractionTimestamp": {"type": "string", "format": "date-time"},
          "culturalGenerationTimestamp": {"type": "string", "format": "date-time"},
          "qualityScores": {
            "type": "object",
            "properties": {
              "dataExtraction": {"type": "number", "minimum": 0, "maximum": 1},
              "culturalGeneration": {"type": "number", "minimum": 0, "maximum": 1},
              "overallQuality": {"type": "number", "minimum": 0, "maximum": 1}
            }
          }
        }
      }
    },
    "quality_requirements": {
      "data_validation": {
        "required_field_validation": true,
        "type_checking": true,
        "format_validation": true,
        "range_validation": true
      },
      "content_quality": {
        "minimum_description_length": 50,
        "maximum_description_length": 1000,
        "historical_accuracy_check": true,
        "cultural_sensitivity_review": true,
        "language_quality_check": true
      },
      "completeness_scoring": {
        "core_identification": 25,
        "historical_data": 25,
        "cultural_narratives": 30,
        "visitor_information": 15,
        "data_provenance": 5
      }
    },
    "automation_integration": {
      "worker4_pipeline_mapping": {
        "input_format": "Worker4CastleData",
        "transformation_method": "DataFormatTranslator.worker4_to_unified",
        "output_format": "UnifiedCastleData"
      },
      "worker3_cultural_generation": {
        "input_format": "UnifiedCastleData",
        "transformation_method": "DataFormatTranslator.unified_to_worker3",
        "processing_format": "Worker3CastleData",
        "output_integration": "merge_with_unified"
      },
      "three_tier_coordination": {
        "tier_1_sources": ["wikidata_sparql", "openstreetmap_overpass", "wikipedia_api", "unesco_api"],
        "tier_2_sources": ["national_heritage_apis", "government_datasets"],
        "tier_3_sources": ["specialized_archives", "historical_societies"],
        "quality_thresholds": {
          "tier_1": 0.7,
          "tier_2": 0.8,
          "tier_3": 0.9
        }
      }
    },
    "scalability_features": {
      "batch_processing": {
        "recommended_batch_size": 50,
        "maximum_batch_size": 200,
        "parallel_processing": true
      },
      "database_optimization": {
        "indexing_fields": ["id", "castleName", "country", "metadata.lastUpdated"],
        "partitioning_strategy": "by_country_and_date",
        "compression": "gzip_json"
      },
      "api_integration": {
        "rate_limiting_compliance": true,
        "error_handling": "exponential_backoff",
        "caching_strategy": "7_day_ttl"
      }
    },
    "export_formats": {
      "primary": {
        "format": "json",
        "schema_validation": true,
        "compression": "optional_gzip"
      },
      "database": {
        "format": "sqlite",
        "indexing": true,
        "full_text_search": true
      },
      "research": {
        "formats": ["csv", "xml", "markdown"],
        "custom_field_selection": true,
        "citation_format": true
      }
    },
    "version_history": {
      "v3.0": "Worker4-Worker3 integrated format with three-tier automation support",
      "v2.0": "Enhanced cultural narratives with visitor information",
      "v1.0": "Basic castle data structure"
    }
  }
}